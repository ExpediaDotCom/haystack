{
  "dashboard": {
    "__requires": [
      {
        "type": "grafana",
        "id": "grafana",
        "name": "Grafana",
        "version": "v4.4.3"
      },
      {
        "type": "panel",
        "id": "graph",
        "name": "Graph",
        "version": ""
      },
      {
        "type": "datasource",
        "id": "influxdb",
        "name": "InfluxDB",
        "version": "1.0.0"
      },
      {
        "type": "panel",
        "id": "singlestat",
        "name": "Singlestat",
        "version": ""
      }
    ],
    "annotations": {
      "list": []
    },
    "editable": true,
    "gnetId": null,
    "graphTooltip": 0,
    "hideControls": false,
    "id": null,
    "links": [],
    "refresh": "60s",
    "rows": [
      {
        "collapse": false,
        "height": "150",
        "panels": [
          {
            "cacheTimeout": null,
            "colorBackground": true,
            "colorValue": false,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(54, 245, 88, 0.9)"
            ],
            "datasource": "graphite",
            "description": "",
            "format": "none",
            "gauge": {
              "maxValue": 30,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "id": 32,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "span": 2,
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "1m"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "measurement": "BrokerTopicMetrics.MessagesInPerSec.OneMinuteRate",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT count(\"count\") FROM (SELECT  count(\"heapMemoryUsage.used\")  FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'jvm' AND $timeFilter GROUP BY \"host\")",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    },
                    {
                      "params": [
                        " / 2"
                      ],
                      "type": "math"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": "",
            "title": "Brokers (Distinct JMX Trends)",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": true,
            "colorValue": false,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(54, 245, 88, 0.9)"
            ],
            "datasource": "graphite",
            "description": "",
            "format": "none",
            "gauge": {
              "maxValue": 30,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "id": 37,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "span": 2,
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "1m"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "measurement": "BrokerTopicMetrics.MessagesInPerSec.OneMinuteRate",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT count(\"count\") FROM (SELECT  count(\"heapMemoryUsage.used\")  FROM \"haystack.datastore.zookeeper\" WHERE \"class\" = 'jvm' AND $timeFilter GROUP BY \"host\")",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    },
                    {
                      "params": [
                        " / 2"
                      ],
                      "type": "math"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": "",
            "title": "Zookeeper (Distinct JMX Trends)",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": true,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "graphite",
            "format": "ops",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "id": 27,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "span": 2,
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "1m"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "measurement": "haystack.datastore.kafka",
                "orderByTime": "ASC",
                "policy": "default",
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "BrokerTopicMetrics.MessagesInPerSec.OneMinuteRate"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    },
                    {
                      "params": [
                        " / 2"
                      ],
                      "type": "math"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": "",
            "title": "Incoming Messages",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": true,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "graphite",
            "format": "Bps",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "id": 30,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "span": 2,
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "1m"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "measurement": "haystack.datastore.kafka",
                "orderByTime": "ASC",
                "policy": "default",
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "BrokerTopicMetrics.BytesInPerSec.OneMinuteRate"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    },
                    {
                      "params": [
                        " / 2"
                      ],
                      "type": "math"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": "",
            "title": "Incoming Bytes",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": true,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "graphite",
            "format": "Bps",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "id": 31,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "span": 2,
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "1m"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "measurement": "haystack.datastore.kafka",
                "orderByTime": "ASC",
                "policy": "default",
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "BrokerTopicMetrics.BytesOutPerSec.OneMinuteRate"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    },
                    {
                      "params": [
                        " / 2"
                      ],
                      "type": "math"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": "",
            "title": "Outgoing Bytes",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          }
        ],
        "repeat": null,
        "repeatIteration": null,
        "repeatRowId": null,
        "showTitle": false,
        "title": "Dashboard Row",
        "titleSize": "h6"
      },
      {
        "collapse": true,
        "height": 241,
        "panels": [
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "This graph shows the heap memory committed by each cassandra node",
            "fill": 1,
            "height": "300px",
            "id": 2,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 3,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "haystack.datastore.kafka",
                "orderByTime": "ASC",
                "policy": "default",
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "heapMemoryUsage.committed"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "class",
                    "operator": "=",
                    "value": "jvm"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Heap Memory Commited",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "This graph shows the heap memory used by each cassandra node",
            "fill": 1,
            "height": "300px",
            "id": 1,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 3,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "haystack.datastore.kafka",
                "orderByTime": "ASC",
                "policy": "default",
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "heapMemoryUsage.used"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "class",
                    "operator": "=",
                    "value": "jvm"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Heap Memory Used",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "This graph shows the threads used by each cassandra node",
            "fill": 1,
            "height": "300px",
            "id": 3,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 3,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "haystack.datastore.kafka",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"thread\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'jvm' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "thread"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "class",
                    "operator": "=",
                    "value": "jvm"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Thread Count",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "transparent": false,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "alert": {
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0.7
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0.7
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "10m",
                      "now-5m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0.7
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "15m",
                      "now-10m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "frequency": "60s",
              "handler": 1,
              "name": "Kafka- increase in CPU usage",
              "noDataState": "keep_state",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "This graph shows the heap memory used by each kafka node",
            "fill": 1,
            "height": "300px",
            "id": 4,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 3,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "SystemCpuLoad",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"SystemCpuLoad\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'os' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "os"
                  }
                ]
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 0.7
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "CPU Busy",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "percentunit",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          }
        ],
        "repeat": null,
        "repeatIteration": null,
        "repeatRowId": null,
        "showTitle": true,
        "title": "JVM Metrics",
        "titleSize": "h6"
      },
      {
        "collapse": true,
        "height": 250,
        "panels": [
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of incoming messages in the kafka broker",
            "fill": 1,
            "height": "300px",
            "id": 18,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "1m"
                    ],
                    "type": "time"
                  }
                ],
                "measurement": "BrokerTopicMetrics.MessagesInPerSec.OneMinuteRate",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT sum(\"BrokerTopicMetrics.MessagesInPerSec.OneMinuteRate\")  / 2 FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY time(1m)",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    },
                    {
                      "params": [
                        " / 2"
                      ],
                      "type": "math"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Cluster Incoming Messages (per sec)",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of incoming messages in the kafka broker",
            "fill": 1,
            "height": "300px",
            "id": 39,
            "legend": {
              "alignAsTable": false,
              "avg": false,
              "current": false,
              "hideEmpty": false,
              "hideZero": false,
              "max": false,
              "min": false,
              "rightSide": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "minSpan": null,
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "",
                "dsType": "influxdb",
                "groupBy": [],
                "measurement": "haystack.datastore.kafka",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT  sum(/BrokerTopicMetrics.MessagesInPerSec..*..OneMinuteRate/)  FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY time(1m) ,class",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "BrokerTopicMetrics.MessagesInPerSec.proto-spans.OneMinuteRate"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [
                        " / 2"
                      ],
                      "type": "math"
                    },
                    {
                      "params": [
                        "proto-spans"
                      ],
                      "type": "alias"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Cluster Incoming Messages Per Topic (per sec)",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": false,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of incoming messages in the kafka broker",
            "fill": 1,
            "height": "300px",
            "id": 29,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "1m"
                    ],
                    "type": "time"
                  }
                ],
                "measurement": "BrokerTopicMetrics.BytesInPerSec.OneMinuteRate",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT sum(\"BrokerTopicMetrics.BytesInPerSec.OneMinuteRate\")  / 2 FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY time(1m)",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    },
                    {
                      "params": [
                        " / 2"
                      ],
                      "type": "math"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Cluster Incoming Bytes (per sec)",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of incoming BytesInPerSec in the kafka broker",
            "fill": 1,
            "height": "300px",
            "id": 40,
            "legend": {
              "alignAsTable": false,
              "avg": false,
              "current": true,
              "hideEmpty": false,
              "hideZero": true,
              "max": false,
              "min": false,
              "rightSide": false,
              "show": false,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "minSpan": null,
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$col",
                "dsType": "influxdb",
                "groupBy": [],
                "measurement": "haystack.datastore.kafka",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT  sum(/BrokerTopicMetrics.BytesInPerSec..*..OneMinuteRate/)  FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY time(1m) ,class",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "BrokerTopicMetrics.MessagesInPerSec.proto-spans.OneMinuteRate"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [
                        " / 2"
                      ],
                      "type": "math"
                    },
                    {
                      "params": [
                        "proto-spans"
                      ],
                      "type": "alias"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Cluster Incoming BytesInPerSec Per Topic (per sec)",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": false,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of incoming messages in the kafka broker",
            "fill": 1,
            "height": "300px",
            "id": 28,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "1m"
                    ],
                    "type": "time"
                  }
                ],
                "measurement": "BrokerTopicMetrics.BytesOutPerSec.OneMinuteRate",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT sum(\"BrokerTopicMetrics.BytesOutPerSec.OneMinuteRate\")  / 2 FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY time(1m)",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    },
                    {
                      "params": [
                        " / 2"
                      ],
                      "type": "math"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Cluster Outgoing Bytes (per sec)",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of incoming messages in the kafka broker",
            "fill": 1,
            "height": "300px",
            "id": 9,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "BrokerTopicMetrics.MessagesInPerSec.OneMinuteRate",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"BrokerTopicMetrics.MessagesInPerSec.OneMinuteRate\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Per Broker Incoming Messages (per sec)",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "This graph shows the total bytes written to the kafka broker per second",
            "fill": 1,
            "height": "300px",
            "id": 5,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "BrokerTopicMetrics.BytesInPerSec.OneMinuteRate",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"BrokerTopicMetrics.BytesInPerSec.OneMinuteRate\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Total Incoming Bytes - OneMinuteRate",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "This graph shows the total bytes read from the kafka broker per second",
            "fill": 1,
            "height": "300px",
            "id": 6,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "BrokerTopicMetrics.BytesInPerSec.OneMinuteRate",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"BrokerTopicMetrics.BytesInPerSec.OneMinuteRate\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Total Outgoing Bytes - OneMinuteRate",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of incoming messages rejected by the  kafka broker per second",
            "fill": 1,
            "height": "300px",
            "id": 20,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "BrokerTopicMetrics.TotalProduceRequestsPerSec.OneMinuteRate",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"BrokerTopicMetrics.TotalProduceRequestsPerSec.OneMinuteRate\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Producer Requests per broker (per sec)",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of incoming messages rejected by the  kafka broker per second",
            "fill": 1,
            "height": "300px",
            "id": 23,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "RequestMetrics.TotalTimeMs-Produce.99thPercentile",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"RequestMetrics.TotalTimeMs-Produce.99thPercentile\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'network' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "network"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Producer Requests Latency (TP99 in ms)",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "alert": {
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      50
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      50
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "10m",
                      "now-5m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      50
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "15m",
                      "now-10m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "frequency": "60s",
              "handler": 1,
              "name": "Kafka- increase in Failed Producer Requests per broker",
              "noDataState": "keep_state",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of incoming messages rejected by the  kafka broker per second",
            "fill": 1,
            "height": "300px",
            "id": 21,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "BrokerTopicMetrics.FailedProduceRequestsPerSec.OneMinuteRate",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"BrokerTopicMetrics.FailedProduceRequestsPerSec.OneMinuteRate\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 50
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Failed Producer Requests per broker (per sec)",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of incoming messages rejected by the  kafka broker per second",
            "fill": 1,
            "height": "300px",
            "id": 19,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "BrokerTopicMetrics.TotalFetchRequestsPerSec.OneMinuteRate",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"BrokerTopicMetrics.TotalFetchRequestsPerSec.OneMinuteRate\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Fetch Requests per broker (per sec)",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of incoming messages rejected by the  kafka broker per second",
            "fill": 1,
            "height": "300px",
            "id": 24,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "RequestMetrics.TotalTimeMs-Fetch.99thPercentile",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"RequestMetrics.TotalTimeMs-Fetch.99thPercentile\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'network' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "network"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Fetch Requests Latency (TP99 in ms)",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "alert": {
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      50
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      50
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "10m",
                      "now-5m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      50
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "15m",
                      "now-10m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "frequency": "60s",
              "handler": 1,
              "name": "Kafka- increase in Failed Fetch Requests per broker",
              "noDataState": "keep_state",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of incoming messages rejected by the  kafka broker per second",
            "fill": 1,
            "height": "300px",
            "id": 22,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "BrokerTopicMetrics.FailedFetchRequestsPerSec.OneMinuteRate",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"BrokerTopicMetrics.FailedFetchRequestsPerSec.OneMinuteRate\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 50
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Failed Fetch Requests per broker (per sec)",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          }
        ],
        "repeat": null,
        "repeatIteration": null,
        "repeatRowId": null,
        "showTitle": true,
        "title": "In/Out",
        "titleSize": "h6"
      },
      {
        "collapse": true,
        "height": 101,
        "panels": [
          {
            "alert": {
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0.3
                    ],
                    "type": "lt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0.3
                    ],
                    "type": "lt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "10m",
                      "now-5m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0.3
                    ],
                    "type": "lt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "15m",
                      "now-10m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "frequency": "60s",
              "handler": 1,
              "name": "Kafka- drop in Request Handler Idle",
              "noDataState": "keep_state",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of kafka partitions residing in the broker",
            "fill": 1,
            "height": "300px",
            "id": 25,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 3,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "KafkaRequestHandlerPool.RequestHandlerAvgIdlePercent.OneMinuteRate",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"KafkaRequestHandlerPool.RequestHandlerAvgIdlePercent.OneMinuteRate\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "lt",
                "value": 0.3
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Request Handler Idle [1 free - 0 busy]",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "alert": {
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0.3
                    ],
                    "type": "lt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0.3
                    ],
                    "type": "lt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "10m",
                      "now-5m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0.3
                    ],
                    "type": "lt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "15m",
                      "now-10m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "frequency": "60s",
              "handler": 1,
              "name": "Kafka- drop in Network Processor Idle",
              "noDataState": "keep_state",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of kafka partitions residing in the broker",
            "fill": 1,
            "height": "300px",
            "id": 26,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 3,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "SocketServer.NetworkProcessorAvgIdlePercent.Value",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"SocketServer.NetworkProcessorAvgIdlePercent.Value\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'network' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "network"
                  }
                ]
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "lt",
                "value": 0.3
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Network Processor Idle [1 free - 0 busy]",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of partion leaders residing in this broker",
            "fill": 1,
            "height": "300px",
            "id": 8,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 3,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "ReplicaManager.LeaderCount.Value",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"ReplicaManager.LeaderCount.Value\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Total LeaderCount",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of kafka partitions residing in the broker",
            "fill": 1,
            "height": "300px",
            "id": 7,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 3,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "ReplicaManager.PartitionCount.Value",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"ReplicaManager.PartitionCount.Value\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Total Partition Count",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "This graph shows the heap memory used by each cassandra node",
            "fill": 1,
            "height": "300px",
            "id": 38,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 3,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "systemLoadAverage",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"systemLoadAverage\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'os' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "os"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Average Load",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          }
        ],
        "repeat": null,
        "repeatIteration": null,
        "repeatRowId": null,
        "showTitle": true,
        "title": "System",
        "titleSize": "h6"
      },
      {
        "collapse": true,
        "height": 250,
        "panels": [
          {
            "alert": {
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "10m",
                      "now-5m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "15m",
                      "now-10m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "frequency": "60s",
              "handler": 1,
              "name": "Kafka- increase in Under Replicated Partition Count",
              "noDataState": "keep_state",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "",
            "fill": 1,
            "height": "300px",
            "id": 33,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "ReplicaManager.UnderReplicatedPartitions.Value",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"ReplicaManager.UnderReplicatedPartitions.Value\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 0
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Under Replicated Partition Count",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "alert": {
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "10m",
                      "now-5m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "15m",
                      "now-10m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "frequency": "60s",
              "handler": 1,
              "name": "Kafka- increase in Offline Partitions Count",
              "noDataState": "keep_state",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "",
            "fill": 1,
            "height": "300px",
            "id": 34,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "KafkaController.OfflinePartitionsCount.Value",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"KafkaController.OfflinePartitionsCount.Value\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'controller' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "controller"
                  }
                ]
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 0
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Offline Partition Count",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          }
        ],
        "repeat": null,
        "repeatIteration": null,
        "repeatRowId": null,
        "showTitle": true,
        "title": "Replication",
        "titleSize": "h6"
      },
      {
        "collapse": true,
        "height": 250,
        "panels": [
          {
            "alert": {
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0.5
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0.5
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "10m",
                      "now-5m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0.5
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "15m",
                      "now-10m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "frequency": "60s",
              "handler": 1,
              "name": "Kafka- increase in ZooKeeper Session Expired count",
              "noDataState": "keep_state",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "",
            "fill": 1,
            "height": "300px",
            "id": 36,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "SessionExpireListener.ZooKeeperExpiresPerSec.Count",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"SessionExpireListener.ZooKeeperExpiresPerSec.Count\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 0.5
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "ZooKeeper Session Expired",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "alert": {
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "10m",
                      "now-5m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "15m",
                      "now-10m"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "frequency": "60s",
              "handler": 1,
              "message": "If and only if all of the Zookeeper hosts are healthy (can be checked with \"sudo service zookeeper status\" on each Zookeeper host), you can clear this error by ssh'ing to the broker host and running \"sudo service kafka restart\". \nExecuting the latter command when the Zookeeper fleet is not healthy may result in an outage.",
              "name": "Kafka- increase in Disconnected Zookeeper Nodes Count",
              "noDataState": "keep_state",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of incoming messages rejected by the  kafka broker per second",
            "fill": 1,
            "height": "300px",
            "id": 12,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "SessionExpireListener.ZooKeeperDisconnectsPerSec.Count",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"SessionExpireListener.ZooKeeperDisconnectsPerSec.Count\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 0
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Disconnected Zookeeper Nodes Count",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "Shows the total number of incoming messages rejected by the  kafka broker per second",
            "fill": 1,
            "height": "300px",
            "id": 17,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 4,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "SessionExpireListener.ZooKeeperSyncConnectsPerSec.Count",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"SessionExpireListener.ZooKeeperSyncConnectsPerSec.Count\" FROM \"haystack.datastore.kafka\" WHERE \"class\" = 'server' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "kafka"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "server"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "ZooKeeper Sync Connects Per Sec",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          }
        ],
        "repeat": null,
        "repeatIteration": null,
        "repeatRowId": null,
        "showTitle": true,
        "title": "Zookeeper Connections",
        "titleSize": "h6"
      },
      {
        "collapse": true,
        "height": 250,
        "panels": [
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "This graph shows the heap memory used by each cassandra node",
            "fill": 1,
            "height": "300px",
            "id": 13,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 3,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"heapMemoryUsage.used\" FROM \"haystack.datastore.zookeeper\" WHERE \"class\" = 'jvm' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Heap Memory Used",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "This graph shows the threads used by each cassandra node",
            "fill": 1,
            "height": "300px",
            "id": 16,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 3,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"thread\" FROM \"haystack.datastore.zookeeper\" WHERE \"class\" = 'jvm' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Thread Count",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "transparent": false,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "This graph shows the heap memory committed by each cassandra node",
            "fill": 1,
            "height": "300px",
            "id": 14,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 3,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "heapMemoryUsage.committed",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"heapMemoryUsage.committed\" FROM \"haystack.datastore.zookeeper\" WHERE \"class\" = 'jvm' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "zookeeper"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "jvm"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Heap Memory Commited",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "graphite",
            "description": "This graph shows the heap memory used by each cassandra node",
            "fill": 1,
            "height": "300px",
            "id": 15,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "span": 3,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "$tag_host",
                "dsType": "influxdb",
                "groupBy": [
                  {
                    "params": [
                      "host"
                    ],
                    "type": "tag"
                  }
                ],
                "measurement": "systemLoadAverage",
                "orderByTime": "ASC",
                "policy": "default",
                "query": "SELECT \"systemLoadAverage\" FROM \"haystack.datastore.zookeeper\" WHERE \"class\" = 'os' AND $timeFilter GROUP BY \"host\"",
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "subsystem",
                    "operator": "=",
                    "value": "datastore"
                  },
                  {
                    "condition": "AND",
                    "key": "application",
                    "operator": "=",
                    "value": "zookeeper"
                  },
                  {
                    "condition": "AND",
                    "key": "class",
                    "operator": "=",
                    "value": "os"
                  }
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeShift": null,
            "title": "Average Load",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ]
          }
        ],
        "repeat": null,
        "repeatIteration": null,
        "repeatRowId": null,
        "showTitle": true,
        "title": "Zookeeper",
        "titleSize": "h6"
      }
    ],
    "schemaVersion": 14,
    "style": "dark",
    "tags": [],
    "templating": {
      "list": []
    },
    "time": {
      "from": "now-3h",
      "to": "now"
    },
    "timepicker": {
      "refresh_intervals": [
        "5s",
        "10s",
        "30s",
        "1m",
        "5m",
        "15m",
        "30m",
        "1h",
        "2h",
        "1d"
      ],
      "time_options": [
        "5m",
        "15m",
        "1h",
        "6h",
        "12h",
        "24h",
        "2d",
        "7d",
        "30d"
      ]
    },
    "timezone": "",
    "title": "Kafka"
  }
}